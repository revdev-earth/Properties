model Insurance {
    id Int @id @default(autoincrement())

    propertyId String
    property   Property @relation(fields: [propertyId], references: [id])

    tenantId  String?
    tenant    Tenant?  @relation(fields: [tenantId], references: [id])
    serviceId String?
    Service   Service? @relation(fields: [serviceId], references: [id])

    PropertyClaim PropertyClaim[]

    // Basic insurance information
    type           String // Type of insurance (e.g., home, fire, disaster)
    company        String // Name of the insurance provider
    policyNumber   String // Policy ID or code
    insuredAmount  Float // Insured value or maximum indemnity
    premiumCost    Float // Premium cost (e.g., annual or periodic)
    startDate      DateTime // Insurance start date
    expirationDate DateTime // Insurance expiration date

    // Coverage and exclusions
    mainCoverage          String // Main coverage (e.g., fire, theft)
    thirdPartyCoverage    String? // Third-party liability coverage
    equipmentCoverage     String? // Coverage for appliances, HVAC, etc.
    coverageExclusions    String? // List of coverage exclusions
    applicableDeductibles String? // Deductibles based on the type of risk

    // Emergency contact information
    emergencyContact      String? // Emergency or claim contact
    insuranceAgentName    String? // Insurance agent's name
    insuranceAgentContact String? // Agent's contact information (phone, email)
    claimProcedures       String? // Summary of claim procedures

    // Renewal and special conditions
    renewalConditions String? // Terms for renewal (automatic or manual)
    coverageReviews   String? // Information on periodic coverage reviews or inspections
    specialClauses    String? // Special clauses impacting coverage

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model PropertyClaim {
    id                Int       @id @default(autoincrement())
    insuranceId       Int
    insurance         Insurance @relation(fields: [insuranceId], references: [id])
    // Claim Details
    claimDate         DateTime // Date of the claim
    claimReason       String // Reason for the claim (e.g., water damage)
    claimStatus       String // Claim status (approved, in process, rejected)
    indemnifiedAmount Float? // Amount indemnified if the claim is approved
    claimNotes        String? // Additional notes or recommendations

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}
