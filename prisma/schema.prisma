// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Property {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  informationProperty InformationProperty?
  legalInfo           LegalInfo?
}

model InformationProperty {
  id Int @id @default(autoincrement())

  propertyId Int      @unique // Ahora este campo es único, asegurando la relación uno a uno
  property   Property @relation(fields: [propertyId], references: [id])

  streetAndNumber String // direccion
  neighborhood    String // barrio
  cityAndState    String
  postalCode      String
  gpsCoordinates  String? // Optional

  // Features
  propertyType  String // E.g., house, apartment, commercial space, etc.
  totalLandArea Float? // In m², optional if not applicable
  builtArea     Float // In m²
  floors        Int // Number of floors
  orientation   String // E.g., north, south, east, west
  age           Int // Years since construction or last major renovation

  // Interior
  bedrooms        Int
  bathrooms       Int // Number of full bathrooms
  halfBathrooms   Int? // Number of half bathrooms
  kitchen         String // Brief description of the kitchen
  livingAndDining String? // Description if integrated or separated
  additionalRooms String? // E.g., office, laundry room, storage

  // Exterior
  yardOrGarden         String? // Description of outdoor space, if available
  parking              Int // Number of parking spots
  parkingLocation      String? // E.g., covered, private, shared
  balconiesAndTerraces String? // Description of balconies or terraces
  recreationalAreas    String? // Description of recreational areas, if available
}

model LegalInfo {
  id Int @id @default(autoincrement())

  propertyId Int      @unique // Ahora este campo es único, asegurando la relación uno a uno
  property   Property @relation(fields: [propertyId], references: [id])

  // Property Title
  deedNumber     String // Identification number for the deed
  notary         String // Name of the notary, registration number, and location
  deedDate       DateTime // Date when the deed was registered
  publicRegistry String // Folio number or registry code in the Public Property Registry

  // Registered Owner
  ownerName    String
  ownerID      String // Official ID of the owner (e.g., passport number, etc.)
  ownerAddress String? // Contact address if different from the property
  ownerContact String? // Contact number for legal or emergency issues

  // Property Usage
  zoning             String // Zoning classification (residential, commercial, etc.)
  usageRestrictions  String? // Details of any restrictions on usage
  permitsAndLicenses String? // Necessary permits for current usage
  zoningHistory      String? // History of zoning changes, if any

  // Active Contracts
  leaseContract          String? // Summary or copy of the current lease agreement
  contractDuration       String? // Contract duration, start and end date, renewal terms
  tenantResponsibilities String? // Legal responsibilities of the tenant
  ownerResponsibilities  String? // Legal obligations of the owner

  // Legal History of the Property
  ownershipChanges String? // History of ownership transfers with dates
  mortgagesOrLiens String? // Information about mortgages, liens, or encumbrances
  legalDisputes    String? // Information on past or pending legal disputes
  auctionHistory   String? // History of auctions or bank repossessions

  // Taxes and Fiscal Obligations
  propertyTax          String // Cadastral account number and status of property tax
  specialTaxesOrFees   String? // Additional taxes or service fees applicable
  debtFreeCertificates String? // Documentation certifying no fiscal debts

  // Property Policies and Warranties
  constructionWarranty  String? // Construction warranty details if newly built
  equipmentWarranties   String? // Warranties for appliances, HVAC, electrical or plumbing systems
  structuralSafetyCerts String? // Structural safety certificates, e.g., seismic certifications

  // Regulations and Norms
  internalRegulations  String? // Regulations if part of a condominium or gated community
  localNorms           String? // Summary of specific local norms affecting the property
  environmentalPermits String? // Permits required if located in a protected environmental area
}
